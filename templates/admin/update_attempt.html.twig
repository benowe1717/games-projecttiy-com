<div class="row justify-content-start mt-3 mb-3">
    <div class="col-lg-12 col-xl-12">
        {% if has_attempts == 1 %}
        <form method="{{ update_attempt_form.vars.method }}" id="{{ update_attempt_form.vars.id }}" name="{{ update_attempt_form.vars.full_name }}">
            <div class="mb-3">
                <label class="form-label" for="{{ update_attempt_form.characterId.vars.id }}">{{ update_attempt_form.characterId.vars.label }}</label>
                <select class="form-select" id="{{ update_attempt_form.characterId.vars.id }}" name="{{ update_attempt_form.characterId.vars.full_name }}">
                {% for choice in update_attempt_form.characterId.vars.choices %}
                <option value="{{ choice.value }}">{{ choice.label }}</option>
                {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="{{ update_attempt_form.adventureLevel.vars.id }}">{{ update_attempt_form.adventureLevel.vars.label }}</label>
                <input class="form-control" id="{{ update_attempt_form.adventureLevel.vars.id }}" name="{{ update_attempt_form.adventureLevel.vars.full_name }}" value="{{ update_attempt_form.adventureLevel.vars.value }}" type="number" placeholder="1" min="1" max="65" required>
                {% if update_attempt_form.adventureLevel.vars.errors|length > 0 %}
                <div class="alert alert-danger mt-1" role="alert">
                    {{ update_attempt_form.adventureLevel.vars.errors }}
                </div>
                {% endif %}
            </div>
            <div class="mb-3">
                <label class="form-label" for="{{ update_attempt_form.timePlayed.vars.id }}">{{ update_attempt_form.timePlayed.vars.label }}</label>
                <input class="form-control" id="{{ update_attempt_form.timePlayed.vars.id }}" name="{{ update_attempt_form.timePlayed.vars.full_name }}" value="{{ update_attempt_form.timePlayed.vars.value }}" type="number" placeholder="1" min="1" required>
                {% if update_attempt_form.timePlayed.vars.errors|length > 0 %}
                <div class="alert alert-danger mt-1" role="alert">
                    {{ update_attempt_form.timePlayed.vars.errors }}
                </div>
                {% endif %}
            </div>
            <div class="mb-3">
                <label class="form-label" for="{{ update_attempt_form.milestones.vars.id }}">{{ update_attempt_form.milestones.vars.label }}</label>
                {% for child in update_attempt_form.milestones.children %}
                    {% set checked = '' %}
                    {% if child.vars.value in completed_milestones %}
                        {% set checked = 'checked' %}
                    {% endif %}
                <div class="form-check">
                    <input class="form-check-input" id="{{ child.vars.id }}" name="{{ child.vars.full_name }}" value="{{ child.vars.value }}" type="checkbox" {{ checked }}>
                    <label class="form-check-label" for="{{ child.vars.id }}">{{ child.vars.label }}</label>
                </div>
                {% endfor %}
            </div>
            <div class="mb-3">
                <label class="form-label" for="{{ update_attempt_form.causeOfDeath.vars.id }}">{{ update_attempt_form.causeOfDeath.vars.label }}</label>
                <input class="form-control" id="{{ update_attempt_form.causeOfDeath.vars.id }}" name="{{ update_attempt_form.causeOfDeath.vars.full_name }}" value="{{ update_attempt_form.causeOfDeath.vars.value }}" type="text" minlength="3" maxlength="255" placeholder="Cause of death">
                {% if update_attempt_form.timePlayed.vars.errors|length > 0 %}
                <div class="alert alert-danger mt-1" role="alert">
                    {{ update_attempt_form.timePlayed.vars.errors }}
                </div>
                {% endif %}
            </div>
            <div class="mb-3">
                <button class="btn btn-secondary d-block w-10" id="{{ update_attempt_form.submit.vars.id }}" name="{{ update_attempt_form.submit.vars.full_name }}">{{ update_attempt_form.submit.vars.label }}</button>
            </div>
            <input id="{{ update_attempt_form.children._token.vars.id }}" name="{{ update_attempt_form.children._token.vars.full_name }}" value="{{ update_attempt_form.children._token.vars.value }}" type="hidden">
        </form>
        {% else %}
        <div class="alert alert-danger" role="alert">
            <p class="m-1">You have no current attempts! Please start a new attempt!</p>
        </div>
        {% endif %}
    </div>
</div>
